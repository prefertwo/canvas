<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>像素操作</title>
</head>
<body>
    <div class="section">
        <div class="title">颜色选择器</div>
        <canvas id="canvasA"></canvas>
        <div id="color"></div>
    </div>
    <script>
        let image = new Image();
        // image.src = 'https://mdn.mozillademos.org/files/5397/rhino.jpg';
        image.src = 'imgs/haha.jpg';
        let canvasA = document.getElementById('canvasA');
        let ctxA = canvasA.getContext('2d');
        image.onload = function() {
            ctxA.drawImage(image, 0, 0);
            image.style.display = 'none';
        }
        let color = document.getElementById('color');
        function pick(event) {
            let x = event.layerX;
            let y = event.layerY;
            let pixel = ctxA.getImageData(x, y, 1, 1);
            let data = pixel.data;
            let rgba = `rgba(${data[0]}, ${data[1]}, ${data[2]}, ${data[3]/255})`
            color.style.background = rgba;
            color.textContent = rgba;
        }
        canvasA.addEventListener('mouseover', pick)
    </script>


    
</body>
</html>